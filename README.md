next.js 공부

### React Server Component

1. 등장배경
   JS bundle내부
   상호작용있는 컴포넌트 (event, hook 등)
   상호작용이 없는 컴포넌트

2. 기존의 문제점
   AppRouter(JS bundle(상호작용있는 컴포넌트 (event, hook 등), 상호작용이 없는 컴포넌트 ))
   hydration이 필요하지않은 (상호작용이 없는 컴포넌트) JS bundle에 포함. => JS bundle 용량 커짐 => 불러오는데 오래걸림 => TTI 느려짐

3. 해결법
   React Server Component
   서버측에서 실행되는 컴포넌트 (브라우저에서 실행 x)

클라이언트 컴포넌트, 서버 컴포넌트 분리

1. 사전렌더링시 둘다(클라이언트, 서버컴포넌트) 실행
2. hydration시 server컴포넌트 제외 클라이언트 컴포넌트만 hydration

서버 컴포넌트

- 서버측에서 사전 렌더링 진행할때 딱 한번만 실행 됨

클라이언트 컴포넌트

- 사전 렌더링 진행할때 한번, 하이드레이션 진행할 때 한번 총 2번 실행

결론 : 페이지 대부분 서버 컴포넌트로 구성 권장, 클라이언트 컴포넌트는 꼭 필요할 경우만 사용

4. 주의사항 및 규칙
1. 서버 컴포넌트에는 브라우저에서 실행될 코드가 포함되면 안된다.
1. 클라이언트 컴포넌트는 클라이언트에서만 실행되지않는다
1. 클라이언트 컴포넌트에서 서버컴포넌트를 import할수없다 (props로 넘겨줘야함)
1. 서버컴포넌트에서 클라이언트에게 직렬화 되지 않는 props는 전달불가능하다 (함수는 직렬화 불가능 즉 전다 불가)
